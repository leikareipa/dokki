!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],t):"object"==typeof exports?exports.dokki=t(require("Vue")):e.dokki=t(e.Vue)}(self,(function(e){return(()=>{"use strict";var t={292:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});const i=o.p+"dokki.css"},5:t=>{t.exports=e}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})();var n={};return(()=>{i.r(n),i.d(n,{start:()=>Ae});const e=new Vuex.Store({state:{tags:{},dokkiTopic:{lifetimeCount:0,revealQueue:[]},topics:[],areTopicsReady:!1,loremCount:0,productName:void 0,productVersion:void 0,tagHashMarker:"#/"},mutations:{queue_topic_reveal(e,t){console.assert(!e.areTopicsReady,"No more topics should be queued."),console.assert("function"==typeof t),e.dokkiTopic.revealQueue.push(t),e.dokkiTopic.lifetimeCount++,1==e.dokkiTopic.lifetimeCount&&function t(){console.assert(e.dokkiTopic.revealQueue.length),window.requestAnimationFrame((()=>{e.dokkiTopic.revealQueue.shift()(),e.dokkiTopic.revealQueue.length?t():e.areTopicsReady=!0}))}()},add_tag(e,t=""){console.assert("string"==typeof t),t=t.toLowerCase(),e.tags[t]=1+(e.tags[t]||0)},remove_tag(e,t=""){console.assert("string"==typeof t),t=t.toLowerCase(),e.tags.hasOwnProperty(t)&&(e.tags[t]--,e.tags[t]<=0&&delete e.tags[t])},add_topic(e,t={}){console.assert("object"==typeof t),console.assert("string"==typeof t.title),console.assert("string"==typeof t.anchorId),t.parentTopic?t.parentTopic.subtopics.push({...t,url:`#${t.anchorId}`}):e.topics.push({...t,subtopics:[],url:`#${t.anchorId}`})},set_layout_mode(e,t="horizontal"){document.body.setAttribute("data-dokki-layout",t)},increment_lorem_count(e){e.loremCount++},set_product_name(e,t){e.productName=t},set_product_version(e,t){e.productVersion=t}}});var t=i(5);const o={class:"dokki-area"},a={render:function(e,i){return(0,t.openBlock)(),(0,t.createBlock)("p",o,[(0,t.renderSlot)(e.$slots,"default")])}},s={props:{title:{default:"Code"},code:{default:void 0},syntax:{default:void 0}},data:()=>({codeFromSlot:void 0}),mounted(){if("function"==typeof this.$slots.code){const e=this.$slots.code()[0];e&&(this.codeFromSlot=e.children)}},computed:{hasOutput(){return!!this.$slots.default}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-text-block-with-line-numbers"),d=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(d,{"class-name":"dokki-code",icon:"fas fa-code",title:"Code"},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[(0,t.createVNode)(r,{syntax:i.syntax,text:a.codeFromSlot||i.code},null,8,["syntax","text"])])),after:(0,t.withCtx)((()=>[this.$slots.output?(0,t.renderSlot)(e.$slots,"output",{key:0}):(0,t.renderSlot)(e.$slots,"default",{key:1})])),_:1})}},r={key:0},d={class:"dokkiCSS-title"},c={key:1},l={key:2},u={props:{expanded:{default:void 0}},data(){return{isExpanded:void 0!==this.$props.expanded}}},p={props:{headerless:{default:void 0}},data(){return{isHeaderless:void 0!==this.$props.headerless}}},h={props:{id:{default:void 0}},data:()=>({anchorableId:{type:String,default:void 0}}),computed:{anchor_id(){return console.assert("string"==typeof this.anchorableId),this.id||this.anchorableId}}},m={mixins:[p],props:{command:{default:"undefined command"},output:{default:void 0},platform:{default:"unix"}},data:()=>({outputFromSlot:void 0}),mounted(){if(!this.$slots.output||"function"!=typeof this.$slots.output)return;const e=this.$slots.output()[0];e&&(this.outputFromSlot=e.children)},computed:{headerIcon(){switch(this.platform){case"windows":return"fas fa-terminal";case"unix":default:return"fas fa-dollar-sign"}},hasFooter(){return void 0!==this.output||void 0!==this.outputFromSlot}},render:function(e,o,i,n,a,s){const u=(0,t.resolveComponent)("dokki0-text-block-with-line-numbers");return s.hasFooter||!e.isHeaderless?((0,t.openBlock)(),(0,t.createBlock)("p",{key:0,class:["dokkiCSS-embedded dokki-console",{"dokkiCSS-headerless":e.isHeaderless}]},[e.isHeaderless?(0,t.createCommentVNode)("v-if",!0):((0,t.openBlock)(),(0,t.createBlock)("header",r,[(0,t.createVNode)("span",d,[(0,t.createVNode)("i",{class:s.headerIcon,title:"Terminal command"},null,2)]),(0,t.createVNode)("code",null,(0,t.toDisplayString)(i.command),1)])),!e.isHeaderless&&s.hasFooter?((0,t.openBlock)(),(0,t.createBlock)("hr",c)):(0,t.createCommentVNode)("v-if",!0),s.hasFooter?((0,t.openBlock)(),(0,t.createBlock)("footer",l,[(0,t.createVNode)(u,{text:a.outputFromSlot||i.output},null,8,["text"])])):(0,t.createCommentVNode)("v-if",!0)],2)):(0,t.createCommentVNode)("v-if",!0)}},k={class:"spacer-container"},g={class:"spacer"},f={class:"label",style:{"margin-left":"0.5ch"}},S={key:1},v={props:{structure:{type:Object}},data:()=>({codeFromSlot:void 0}),methods:{entryPadding:(e={})=>"<span></span>".repeat(e.level),entryIcon:(e={})=>`${"folder"==e.type?"fas":"far"} fa-${"folder"==e.type?"folder":"file"}${e.content?`-${e.content}`:""}`},computed:{flattenedStructure(){return function e(t,o=[],i=0){if("object"!=typeof t)return;const n=Object.keys(t).filter((e=>!e.startsWith("/")));for(const a of n){const n=t[a],s=Object.keys(n).filter((e=>!e.startsWith("/"))),r=Object.keys(n).filter((e=>e.startsWith("/"))).reduce(((e,t)=>(e[t.substr(1)]=n[t],e)),{});o.push({name:a,level:i,href:r.href,type:r.type||(s.length?"folder":"file"),content:r.content}),e(n,o,i+1)}return o}(this.$props.structure)}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(r,{"class-name":"dokki-directory",icon:"fas fa-folder",title:"File list"},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(s.flattenedStructure,(e=>((0,t.openBlock)(),(0,t.createBlock)("div",{class:["directory-entry",e.type]},[(0,t.createVNode)("span",k,[((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(e.level,(e=>((0,t.openBlock)(),(0,t.createBlock)("span",g)))),256))]),(0,t.createVNode)("i",{class:["icon",s.entryIcon(e)]},null,2),(0,t.createVNode)("span",f,[e.href?((0,t.openBlock)(),(0,t.createBlock)("a",{key:0,href:e.href},(0,t.toDisplayString)(e.name),9,["href"])):((0,t.openBlock)(),(0,t.createBlock)("span",S,(0,t.toDisplayString)(e.name),1))])],2)))),256))])),_:1})}},y={class:"dokki-header"},x={class:"dokkiCSS-header-container"},_={props:{icon:{default:"fas fa-atlas"},title:{default:"Untitled"},productName:{default:void 0},productVersion:{default:void 0}},beforeCreate(){document.title=this.title,this.$store.commit("set_product_name",this.productName),this.$store.commit("set_product_version",this.productVersion)},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki-theme-selector"),d=(0,t.resolveComponent)("dokki0-page-load-progress-bar");return(0,t.openBlock)(),(0,t.createBlock)("header",y,[(0,t.createVNode)("div",x,[(0,t.createVNode)("span",{class:"dokkiCSS-header-title",title:i.title},(0,t.toDisplayString)(i.title),9,["title"]),(0,t.createVNode)(r)]),(0,t.createVNode)(d)])}},b={key:1},C={props:{src:{default:void 0},srcdoc:{default:void 0},height:{default:"500px"},autofocus:{default:void 0}},computed:{hasAutofocus(){return void 0!==this.$props.autofocus}},methods:{update_autofocus(){this.hasAutofocus&&this.$refs.iframe.focus()}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(r,{"class-name":"dokki-iframe",icon:"fas fa-crop-alt",title:"Inline frame",onExpanded:s.update_autofocus},{caption:(0,t.withCtx)((()=>[this.$slots.caption?(0,t.renderSlot)(e.$slots,"caption",{key:0}):((0,t.openBlock)(),(0,t.createBlock)("span",b,(0,t.toDisplayString)(i.src),1))])),content:(0,t.withCtx)((()=>[(0,t.createVNode)("div",{class:"dokkiCSS-wrapper",style:{height:i.height}},[(0,t.createVNode)("iframe",{class:"dokki-iframe",src:i.src,srcdoc:i.srcdoc,ref:"iframe"},"\n            ",8,["src","srcdoc"])],4)])),_:1},8,["onExpanded"])}},w={props:{src:{default:"//about:blank"},upscaleToFit:{default:void 0},pixelatedScale:{default:void 0},width:{default:void 0},height:{default:void 0},headerless:{default:void 0}},data:()=>({scaledWidth:void 0,scaledHeight:void 0}),mounted(){this.calculate_scaled_size(),window.addEventListener("resize",this.calculate_scaled_size)},computed:{hasUpscaleToFit(){return void 0!==this.$props.upscaleToFit},hasPixelated(){return void 0!==this.$props.pixelatedScale}},methods:{calculate_scaled_size(){const e=void 0===this.$props.headerless?1:0,t=this.$props.width,o=this.$props.height;let i=this.$el.offsetWidth;if(!t||!o||!i)return;i-=2*e;const n=Math.min(this.upscaleToFit?1/0:1,i/t);this.scaledWidth=Math.round(t*n),this.scaledHeight=Math.round(o*n)}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(r,{"class-name":"dokki-image",icon:"fas fa-image",title:"Image",headerless:i.headerless},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[(0,t.createVNode)("img",{src:i.src,ref:"image-element",class:{"dokkiCSS-upscale-to-fit":s.hasUpscaleToFit,"dokkiCSS-pixelated-scale":s.hasPixelated},width:a.scaledWidth,height:a.scaledHeight},null,10,["src","width","height"])])),_:1},8,["headerless"])}},$={props:{title:{required:!0,type:String}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)(t.Fragment,null,[(0,t.createVNode)("h3",null,(0,t.toDisplayString)(this.title),1),(0,t.renderSlot)(e.$slots,"default")],64)}},B={mounted(){this.lorem=this.paragraphs[this.$store.state.loremCount%this.paragraphs.length],this.$store.commit("increment_lorem_count")},data:()=>({lorem:"",paragraphs:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam faucibus sagittis urna,\n                    non egestas felis. Ut mollis, quam at aliquam sagittis, magna purus consequat mi, vitae\n                    gravida est nunc non neque. Quisque sit amet quam ac est hendrerit sagittis. Curabitur\n                    id volutpat mauris.","Vivamus quis fermentum nisi, vitae auctor elit. Suspendisse ut massa scelerisque, efficitur\n                    diam non, convallis nulla. Nunc viverra ex semper, scelerisque enim nec, egestas quam. Ut\n                    vitae porta erat. Vivamus ac dictum odio. Donec magna justo, cursus eu vestibulum consectetur,\n                    fringilla ac magna.","Aliquam sodales mi at erat ultrices faucibus. Curabitur non arcu diam. Sed et lacus\n                    risus. Nam risus nisi, fermentum eget sapien lacinia, rhoncus luctus metus. Fusce tincidunt\n                    efficitur ex a rhoncus. Aliquam lobortis lorem augue, at sollicitudin justo pretium vel.\n                    Ut mattis nibh in finibus rhoncus.","Maecenas aliquam lorem ac pharetra egestas. Interdum et malesuada fames ac ante ipsum\n                    primis in faucibus. Quisque hendrerit suscipit nibh et accumsan. Integer ipsum tellus,\n                    sollicitudin at est non, pulvinar dapibus erat. Cras rhoncus lobortis nunc vitae bibendum.\n                    Ut dictum nisi quis nibh finibus, euismod vulputate ipsum facilisis. Pellentesque congue,\n                    felis eu consequat molestie, est nibh vehicula eros, ac consectetur tortor nisi ac justo.","Suspendisse fringilla, purus non ornare imperdiet, turpis est blandit felis, sit amet\n                    ultricies urna lorem vitae erat. Cras nec ipsum vitae felis scelerisque malesuada id\n                    sollicitudin mauris. Nunc hendrerit laoreet odio. Aliquam facilisis nisi eget aliquam\n                    gravida. Sed ut velit bibendum arcu varius maximus."]}),render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("p",null,(0,t.toDisplayString)(a.lorem),1)}},N={class:"dokkiCSS-wrapper"},V={props:{unpadded:{default:void 0}},data(){return{isUnpadded:void 0!==this.$props.unpadded}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(r,{"class-name":"dokki-output",icon:"fas fa-chevron-right",title:"Output","header-widget":"frame",class:{"dokkiCSS-unpadded":a.isUnpadded}},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[(0,t.createVNode)("div",N,[(0,t.renderSlot)(e.$slots,"default")])])),_:1},8,["class"])}},T={class:"dokki-side-panel"},E={class:"dokkiCSS-product-tag"},I={key:0},q={key:1},F={class:"dokkiCSS-vertical-navi"},A={class:"dokkiCSS-navi-link-icon"},D={class:"dokkiCSS-navi-link-label"},L={class:"dokkiCSS-navi-link-label"},z={computed:{topics(){return this.$store.state.topics},productName(){const e=void 0!==this.$store.state.productName?this.$store.state.productName:"",t=void 0!==this.$store.state.productVersion?this.$store.state.productVersion:"";return e.length&&!t.length?e:!e.length&&t.length?t:e.length&&t.length?`${e} ${t}`:void 0}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("nav",T,[(0,t.renderSlot)(e.$slots,"default"),(0,t.createVNode)("div",E,[void 0!==s.productName?((0,t.openBlock)(),(0,t.createBlock)("span",I,(0,t.toDisplayString)(s.productName),1)):((0,t.openBlock)(),(0,t.createBlock)("span",q,"Contents"))]),(0,t.createVNode)("ul",F,[((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(s.topics,((e,o)=>((0,t.openBlock)(),(0,t.createBlock)("li",null,[(0,t.createVNode)("a",{href:e.url,class:"dokkiCSS-navi-link dokkiCSS-navi-link-topic"},[(0,t.createVNode)("span",A,(0,t.toDisplayString)(o+1),1),(0,t.createVNode)("span",D,(0,t.toDisplayString)(e.title),1)],8,["href"]),((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(e.subtopics,((e,o)=>((0,t.openBlock)(),(0,t.createBlock)("a",{href:e.url,class:"dokkiCSS-navi-link dokkiCSS-navi-link-subtopic"},[(0,t.createVNode)("span",L,(0,t.toDisplayString)(e.title),1)],8,["href"])))),256))])))),256))])])}},j={class:"dokkiCSS-wrapper"},M={props:{unpadded:{default:void 0}},data(){return{isUnpadded:void 0!==this.$props.unpadded}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(r,{"class-name":"dokki-output",icon:"fas fa-chevron-right",title:"Spoiler",class:{"dokkiCSS-unpadded":a.isUnpadded}},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[(0,t.createVNode)("div",j,[(0,t.renderSlot)(e.$slots,"default")])])),_:1},8,["class"])}};function H(e){return e.toLowerCase().replace(/[^a-zA-Z\d\s-]/g,"").replace(/\s+/g,"-")}const P={mixins:[h],props:["title"],created(){const e=this.$store.state.topics[this.$store.state.topics.length-1];console.assert(e,"Detected an orphaned subtopic."),this.anchorableId=H(`${e.title} ${this.title}`),this.$store.commit("add_topic",{parentTopic:e,title:this.title,anchorId:this.anchor_id})},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)(t.Fragment,null,[(0,t.createVNode)("span",{class:"dokkiCSS-anchor dokkiCSS-anchor-subtopic",id:e.anchor_id},null,8,["id"]),(0,t.createVNode)("h2",null,(0,t.toDisplayString)(this.title),1),(0,t.renderSlot)(e.$slots,"default")],64)}},U={render:function(e,o){const i=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(i,{"class-name":"dokki-table",icon:"fas fa-table",title:"Table"},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"table")])),_:1})}},O={methods:{tag_string(){return String(this.$el?.textContent||"Undefined")},on_tag_clicked(){window.dispatchEvent(new CustomEvent("dokki-tag-clicked",{detail:this.tag_string()}))}},mounted(){this.$store.commit("add_tag",this.tag_string())},unmounted(){this.$store.commit("remove_tag",this.tag_string())},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("a",{class:"dokki-tag",onClick:o[1]||(o[1]=(...e)=>s.on_tag_clicked&&s.on_tag_clicked(...e))},[(0,t.renderSlot)(e.$slots,"default")])}},W={key:0,class:"dokki-tag-cloud inline"},R=(0,t.createVNode)("span",{class:"dokkiCSS-groupbox-title"},[(0,t.createVNode)("i",{class:"fas fa-sm fa-tags"}),(0,t.createTextVNode)(" Tag cloud ")],-1),Q={class:"dokkiCSS-title"},Y={key:1},Z={class:"dokkiCSS-container"},G={mixins:[u],props:{inline:{default:void 0},minSize:{type:[Number,String],default:95},maxSize:{type:[Number,String],default:220}},data(){return{isInline:void 0!==this.$props.inline,isTransitioning:!1}},methods:{on_tag_click(e){window.dispatchEvent(new CustomEvent("dokki-tag-clicked",{detail:e}))},tag_css_font_size_percent(e){if(!this.tags.hasOwnProperty(e))return console.warn("Unknown tag",e),"100%";const t=Number(this.$props.minSize),o=Number(this.$props.maxSize),i=this.tags[e],[n,a]=this.minMaxTagCount,s=(i-n)/Math.max(1,a-n),r=Math.ceil(t+(o-t)*s);return`${Math.max(t,Math.min(o,r))}%`}},computed:{hasCaption(){return!!this.$slots.caption},tags(){return this.$store.state.tags},tagNames(){return Object.keys(this.$store.state.tags).sort()},minMaxTagCount(){return[Object.values(this.tags).reduce(((e,t)=>t<e?t:e),1/0),Object.values(this.tags).reduce(((e,t)=>t>e?t:e),-1/0)]}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-expansion-indicator"),d=(0,t.resolveComponent)("dokki0-animated-expander");return a.isInline?((0,t.openBlock)(),(0,t.createBlock)("span",W,[((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(s.tagNames,((e,o)=>((0,t.openBlock)(),(0,t.createBlock)("span",null,[(0,t.createVNode)("a",{class:"dokkiCSS-item",onClick:t=>s.on_tag_click(e)},(0,t.toDisplayString)(e),9,["onClick"]),(0,t.createCommentVNode)("\n        "),(0,t.createTextVNode)((0,t.toDisplayString)(o==s.tagNames.length-1?"":", "),1)])))),256))])):((0,t.openBlock)(),(0,t.createBlock)("p",{key:1,class:["dokkiCSS-embedded dokki-tag-cloud dokkiCSS-expandable dokkiCSS-groupbox",{"dokkiCSS-expanded":e.isExpanded,"dokkiCSS-transitioning":a.isTransitioning}]},[(0,t.createVNode)("header",{onClick:o[1]||(o[1]=e=>this.$refs["tag-cloud-expander"].toggle_expansion())},[R,(0,t.createVNode)("span",Q,[(0,t.createVNode)("span",null,[s.hasCaption?(0,t.renderSlot)(e.$slots,"caption",{key:0}):((0,t.openBlock)(),(0,t.createBlock)("span",Y,"Tag cloud"))])]),(0,t.createVNode)(r,{isExpanded:e.isExpanded},null,8,["isExpanded"])]),(0,t.createVNode)(d,{ref:"tag-cloud-expander","start-expanded":e.isExpanded,onTransitioning:o[2]||(o[2]=e=>a.isTransitioning=!0),onExpanded:o[3]||(o[3]=t=>(e.isExpanded=!0,a.isTransitioning=!1)),onMinimized:o[4]||(o[4]=t=>(e.isExpanded=!1,a.isTransitioning=!1))},{default:(0,t.withCtx)((()=>[(0,t.createVNode)("div",Z,[((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(s.tagNames,(e=>((0,t.openBlock)(),(0,t.createBlock)("a",{class:"dokkiCSS-item",style:{fontSize:s.tag_css_font_size_percent(e),lineHeight:this.maxSize/100+"rem"},onClick:t=>s.on_tag_click(e)},(0,t.toDisplayString)(e),13,["onClick"])))),256))])])),_:1},8,["start-expanded"])],2))}},J={key:0,class:"dokki-tag-filter",ref:"container"},K={class:"dokkiCSS-label"},X={props:{entityName:{type:String,default:"topics"}},data:()=>({activeTags:[],showHeader:!1,numResults:0}),mounted(){window.addEventListener("dokki0-hash-router-updated-tag-hash",this.hash_change_monitor),window.addEventListener("dokki-tag-clicked",(e=>this.add_tag(e.detail))),this.$nextTick(this.hash_change_monitor)},watch:{activeTags(){this.apply_tags_to_topic_visibility(this.activeTags)}},methods:{hash_change_monitor(){const e=window.location.hash;if(!this.is_valid_tag_hash(e))return this.activeTags.length=0,this.showHeader=!1,void this.unhide_all_topic_elements();this.activeTags=this.tags_from_hash(e)},find_all_topic_elements:()=>Array.from(document.querySelectorAll(".dokki-topics > .dokki-topic")),unhide_all_topic_elements(){const e=this.find_all_topic_elements();return e.forEach((e=>e.style.display="initial")),e},apply_tags_to_topic_visibility(e=[]){console.assert(Array.isArray(e));const t=()=>{this.update_hash(e);const t=this.unhide_all_topic_elements();if(this.numResults=t.length,this.activeTags.length)for(const e of t){const t=Array.from(e.querySelectorAll(".dokki-topic .dokki-tag")).map((e=>e.textContent.toLowerCase()));this.activeTags.every((e=>t.includes(e)))||(e.style.display="none")}this.showHeader=Boolean(this.activeTags.length),this.numResults=t.reduce(((e,t)=>e+~~("none"!==t.style.display)),0)};this.showHeader=!0,this.$nextTick((()=>{const e=this.$refs.container,o=getComputedStyle(document.body),i=Number(o.getPropertyValue("--dokkiCSS-header-height").match(/\d+/)[0])+Number(o.getPropertyValue("--dokkiCSS-topic-bottom-margin").match(/\d+/)[0]);e&&e.getBoundingClientRect().bottom<i?(e.scrollIntoView(!0),window.scrollBy(0,-i)):e||window.scrollTo(0,0),t()}))},tags_from_hash(e=""){console.assert(this.is_valid_tag_hash(e));let t=this.tag_string_from_hash(e);if(!this.is_valid_tag_string(t))return this.activeTags;t=t.replaceAll("%20"," ");const o=Array.from(new Set(t.trim().split(",").filter((e=>e.length))));return this.are_valid_tags(o)?o:(this.update_hash(this.activeTags),this.activeTags)},tag_string_from_hash(e=""){return console.assert("string"==typeof e),e.substring(this.tagMarker.length).toLowerCase().trim().replaceAll("%20"," ")},is_valid_tag_hash(e=""){return"string"!=typeof e?(console.warn("Expected tag hash to be a string",e),!1):e.startsWith(this.tagMarker)},is_valid_tag_string:(e="")=>"string"!=typeof e?(console.warn("Expected tag to be a string",e),!1):!!e.length||(console.warn("Empty tag",e),!1),are_valid_tags:(e=[])=>Array.isArray(e)?e.length>999?(console.warn("Too many tags",e.length),!1):!e.join("").match(/[^a-zA-Z0-9+-\s#\.]/)||(console.warn("Illegal characters in one or more tags",e),!1):(console.warn("Invalid tags",e),!1),remove_tag(e=""){this.activeTags=this.activeTags.filter((t=>t!=e))},add_tag(e=""){console.assert("string"==typeof e),e=e.toLowerCase(),this.activeTags.some((t=>t.toLowerCase()==e.toLowerCase()))||(this.activeTags=[...this.activeTags,e])},update_hash(e=[]){console.assert(Array.isArray(e));const t=e.length?`${this.tagMarker}${e.join(",")}`:" ";history.replaceState(null,null,t)}},computed:{tagMarker(){return this.$store.state.tagHashMarker}},render:function(e,o,i,n,a,s){return a.showHeader?((0,t.openBlock)(),(0,t.createBlock)("aside",J,[(0,t.createVNode)("div",K," Showing all ("+(0,t.toDisplayString)(a.numResults)+") "+(0,t.toDisplayString)(i.entityName)+" tagged ",1),((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(a.activeTags,(e=>((0,t.openBlock)(),(0,t.createBlock)("div",{class:"dokkiCSS-button",onClick:t=>s.remove_tag(e)},(0,t.toDisplayString)(e),9,["onClick"])))),256))],512)):(0,t.createCommentVNode)("v-if",!0)}},ee={data:()=>({currentThemeIdx:0,themes:[{name:"dark",icon:"fas fa-lightbulb"},{name:"light",icon:"far fa-lightbulb"}]}),created(){console.assert(this.themes.length,"Encountered an empty theme list."),this.set_current_theme(window.sessionStorage.getItem("dokki:theme")||"light")},methods:{set_current_theme(e=""){this.currentThemeIdx=Math.max(0,this.themes.findIndex((t=>t.name==e)));const t=this.themes[this.currentThemeIdx].name;document.body.dataset.dokkiTheme=t,window.sessionStorage.setItem("dokki:theme",t),this.$refs.themeSelector&&this.$refs.themeSelector.animate([{transform:"rotateY(90deg)"},{transform:"rotateY(0deg)"}],{duration:200})}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("span",{class:"dokki-theme-selector",title:"Light switch",ref:"themeSelector",onClick:o[1]||(o[1]=e=>s.set_current_theme(a.themes[(a.currentThemeIdx+1)%a.themes.length].name))},[(0,t.createVNode)("i",{class:"fa-fw "+a.themes[a.currentThemeIdx].icon},null,2)],512)}},te={class:"dokkiCSS-embedded dokki-tip"},oe=(0,t.createVNode)("header",null,[(0,t.createVNode)("i",{class:"fas fa-info-circle"}),(0,t.createTextVNode)("  Tip ")],-1),ie={render:function(e,o){return(0,t.openBlock)(),(0,t.createBlock)("p",te,[oe,(0,t.createVNode)("footer",null,[(0,t.renderSlot)(e.$slots,"default")])])}},ne={props:{title:{required:!0,type:String}},data:()=>({reveal:!1}),mounted(){this.$store.commit("queue_topic_reveal",(()=>{this.reveal=!0}))},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-topic");return a.reveal?((0,t.openBlock)(),(0,t.createBlock)(r,{key:0,title:i.title},{default:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"default")])),_:3},8,["title"])):(0,t.createCommentVNode)("v-if",!0)}},ae={computed:{areTopicsReady(){return this.$store.state.areTopicsReady}},watch:{areTopicsReady(e){e&&Vue.nextTick((()=>window.dispatchEvent(new CustomEvent("dokki-topics-ready"))))}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-hash-router");return(0,t.openBlock)(),(0,t.createBlock)(t.Fragment,null,[(0,t.createVNode)(r),(0,t.createVNode)("main",{class:["dokki-topics",{"dokkiCSS-hidden":!s.areTopicsReady}]},[(0,t.renderSlot)(e.$slots,"default")],2)],64)}},se={props:{src:{},platform:{default:"youtube"}},computed:{videoUrl(){return this.platform,`https://www.youtube-nocookie.com/embed/${this.src}`},headerIcon(){switch(this.platform){case"youtube":return"fab fa-youtube";default:return"fas fa-film"}}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-embedded-expandable");return(0,t.openBlock)(),(0,t.createBlock)(r,{"class-name":"dokki-video",icon:s.headerIcon,title:"Video",class:i.platform},{caption:(0,t.withCtx)((()=>[(0,t.renderSlot)(e.$slots,"caption")])),content:(0,t.withCtx)((()=>[(0,t.createVNode)("iframe",{src:s.videoUrl,allow:"fullscreen; autoplay;"},"\n        ",8,["src"])])),_:1},8,["icon","class"])}},re={class:"dokki-hr"},de={render:function(e,o){return(0,t.openBlock)(),(0,t.createBlock)("hr",re)}},ce={class:"dokkiCSS-embedded dokki-warning"},le=(0,t.createVNode)("header",null,[(0,t.createVNode)("i",{class:"fas fa-exclamation-triangle"}),(0,t.createTextVNode)("  Warning ")],-1),ue={render:function(e,o){return(0,t.openBlock)(),(0,t.createBlock)("p",ce,[le,(0,t.createVNode)("footer",null,[(0,t.renderSlot)(e.$slots,"default")])])}},pe={key:0,ref:"container",class:"dokki0-animated-expander"},he={props:{startExpanded:{default:!1}},data:()=>({isExpanded:!1,isTransitioning:!1,numDynamicImages:0,numDynamicImagesLoaded:0}),mounted(){this.$props.startExpanded&&this.expand({animate:!1})},methods:{expansion_transition_finished(){if(this.numDynamicImagesLoaded!=this.numDynamicImages)return;const e=this.$refs.container;this.$emit("expanded"),this.isTransitioning=!1,e.style.height="unset"},minimization_transition_finished(){this.$emit("minimized"),this.isTransitioning=!1,this.isExpanded=!1},resize_to_contents(){const e=this.$refs.container;return e.style.height=`${e.scrollHeight}px`,e},resize(e=0){const t=this.$refs.container;return t.style.height=`${e}px`,t},expand({animate:e=!0}={}){this.isTransitioning||this.isExpanded||(this.isExpanded=!0,e?(this.isTransitioning=!0,this.$emit("transitioning"),this.$nextTick((()=>{const e=this.$refs.container;e.ontransitionend=void 0,e.style.height="0";{const e=this.$refs.container.getElementsByTagName("img");this.numDynamicImages=0,this.numDynamicImagesLoaded=0;for(const t of e)void 0===t.height&&(this.numDynamicImages++,t.addEventListener("load",(()=>{window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.numDynamicImagesLoaded++,this.resize_to_contents().ontransitionend=this.expansion_transition_finished}))}))})))}window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.resize_to_contents(),e.ontransitionend=this.numDynamicImages?void 0:this.expansion_transition_finished}))}))}))):this.$emit("expanded"))},minimize({animate:e=!0}={}){if(this.isTransitioning)return;if(!this.isExpanded)return;if(!e)return this.isExpanded=!1,void this.$emit("minimized");this.isTransitioning=!0,this.$emit("transitioning");const t=this.$refs.container;this.resize_to_contents(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{t.style.height="0",t.ontransitionend=this.minimization_transition_finished}))}))},toggle_expansion({animate:e=!0}={}){(this.isExpanded?this.minimize:this.expand)({animate:e})}},render:function(e,o,i,n,a,s){return a.isExpanded?((0,t.openBlock)(),(0,t.createBlock)("div",pe,[(0,t.renderSlot)(e.$slots,"default")],512)):(0,t.createCommentVNode)("v-if",!0)}},me={key:0,class:"dokkiCSS-groupbox-title"},ke={class:"dokkiCSS-title"},ge={key:0},fe={key:2},Se={class:"dokkiCSS-container",style:{overflow:"hidden"}},ve={mixins:[p,u],props:{headerWidget:{type:String,default:"groupbox"},className:{required:!0,type:String},icon:{required:!0,type:String},title:{required:!0,type:String}},data:()=>({isTransitioning:!1}),mounted(){(this.isHeaderless||this.isExpanded)&&this.$refs.expander.expand({animate:!1})},computed:{hasCaption(){return"function"==typeof this.$slots.caption&&this.$slots.caption().some((e=>e.children.length))},hasAfter(){return"function"==typeof this.$slots.after&&this.$slots.after().some((e=>e.children.length))}},watch:{isExpanded(){this.$emit(this.isExpanded?"expanded":"minimized")}},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki0-expansion-indicator"),d=(0,t.resolveComponent)("dokki0-animated-expander");return(0,t.openBlock)(),(0,t.createBlock)("p",{class:["dokkiCSS-embedded dokkiCSS-expandable",{[i.className]:!0,"dokkiCSS-groupbox":"groupbox"==i.headerWidget,"dokkiCSS-has-after":s.hasAfter,"dokkiCSS-headerless":e.isHeaderless,"dokkiCSS-expanded":e.isExpanded,"dokkiCSS-transitioning":a.isTransitioning}]},[e.isHeaderless?(0,t.createCommentVNode)("v-if",!0):((0,t.openBlock)(),(0,t.createBlock)("header",{key:0,onClick:o[1]||(o[1]=e=>this.$refs.expander.toggle_expansion())},["groupbox"==i.headerWidget?((0,t.openBlock)(),(0,t.createBlock)("span",me,[(0,t.createVNode)("i",{class:[i.icon,"fa-sm"]},null,2),(0,t.createTextVNode)(" "+(0,t.toDisplayString)(i.title),1)])):(0,t.createCommentVNode)("v-if",!0),(0,t.createVNode)("span",ke,[(0,t.createVNode)("span",null,["groupbox"!=i.headerWidget?((0,t.openBlock)(),(0,t.createBlock)("span",ge,[(0,t.createVNode)("i",{class:["fa",i.icon],style:{"margin-right":"0.35em"}},null,2)])):(0,t.createCommentVNode)("v-if",!0),s.hasCaption?(0,t.renderSlot)(e.$slots,"caption",{key:1}):((0,t.openBlock)(),(0,t.createBlock)("span",fe,(0,t.toDisplayString)(i.title),1))])]),(0,t.createVNode)(r,{isExpanded:e.isExpanded},null,8,["isExpanded"])])),(0,t.createVNode)(d,{ref:"expander","start-expanded":e.isExpanded,onExpanded:o[2]||(o[2]=t=>e.isExpanded=!0),onMinimized:o[3]||(o[3]=t=>e.isExpanded=!1)},{default:(0,t.withCtx)((()=>[(0,t.createVNode)("div",Se,[(0,t.renderSlot)(e.$slots,"content")])])),_:3},8,["start-expanded"]),(0,t.renderSlot)(e.$slots,"after")],2)}},ye={class:"dokki0-expansion-indicator"},xe={props:{isExpanded:{required:!0,type:Boolean}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("aside",ye,[(0,t.createVNode)("i",{class:["fas",{"fa-chevron-up":i.isExpanded,"fa-chevron-down":!i.isExpanded}]},null,2)])}},_e={mounted(){["hashchange","dokki-topics-ready"].forEach((e=>{window.addEventListener(e,(()=>{window.dispatchEvent(new CustomEvent("dokki0-hash-router-updated-tag-hash")),window.dispatchEvent(new CustomEvent("dokki0-hash-router-updated-navi-hash"))}))})),window.addEventListener("dokki0-hash-router-updated-navi-hash",(()=>{const e=window.location.hash;if(e.length>1&&!e.startsWith(this.tagMarker)){const t=document.querySelector(e);t&&t.scrollIntoView()}}))},computed:{tagMarker(){return this.$store.state.tagHashMarker}},render:function(e,t,o,i,n,a){return null}},be={computed:{hasFinishedLoading(){return this.$store.state.areTopicsReady},progressPercent(){return Math.floor((this.$store.state.dokkiTopic.lifetimeCount-this.$store.state.dokkiTopic.revealQueue.length)/(this.$store.state.dokkiTopic.lifetimeCount||1/0)*100)}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("div",{class:["dokki0-page-load-progress-bar",{progressing:!s.hasFinishedLoading&&s.progressPercent>0}],style:{width:`${s.hasFinishedLoading?100:s.progressPercent}%`}},null,6)}},Ce={class:"dokki0-text-block-with-line-numbers"},we={class:"dokkiCSS-text-block-line"},$e=(0,t.createVNode)("span",{class:"dokkiCSS-anchor dokkiCSS-anchor-text-block-line"},null,-1),Be={class:"dokkiCSS-text-block-line-number"},Ne={class:"dokkiCSS-text-block-line-content"},Ve={props:{text:{},syntax:{default:void 0}},mounted(){this.$nextTick((()=>{if(this.is_syntax_highlighting_enabled()){const e=this.$el.querySelectorAll(".dokkiCSS-text-block-line-content > code");for(const t of e)hljs.highlightElement(t)}}))},computed:{formattedText(){if(!this.text)return"";let e=this.text.split("\n");for(;e.length&&!e[0].trim().length;)e.shift();if(!e.length)return[];const t=Math.max(0,e[0].search(/\S/));for(let o=0;o<e.length;o++)e[o]=e[o].slice(t),e[o]=e[o].replace(/``/g,'"'),e[o]=e[o].replace(/\\\\/g,"\\");for(;e.length&&!e[e.length-1].trim().length;)e.pop();return e}},methods:{is_highlight_js_available:()=>"object"==typeof hljs&&"function"==typeof hljs.highlightElement,is_syntax_highlighting_enabled(){return void 0!==this.$props.syntax&&this.is_highlight_js_available()}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)("table",Ce,[((0,t.openBlock)(!0),(0,t.createBlock)(t.Fragment,null,(0,t.renderList)(s.formattedText,((e,o)=>((0,t.openBlock)(),(0,t.createBlock)("tr",we,[$e,(0,t.createVNode)("td",Be,(0,t.toDisplayString)(o+1),1),(0,t.createVNode)("td",Ne,[(0,t.createVNode)("code",{class:void 0!==i.syntax?`language-${i.syntax}`:"unspecified-syntax"},(0,t.toDisplayString)(e),3)])])))),256))])}},Te={class:"dokki-topic"},Ee={class:"dokkiCSS-topic-title"},Ie={mixins:[h],props:{title:{required:!0,type:String}},data:()=>({globalTopicIdx:{default:-1}}),created(){this.anchorableId=H(this.title),this.$store.commit("add_topic",{title:this.title,anchorId:this.anchor_id}),this.globalTopicIdx=this.$store.state.topics.length},render:function(e,o,i,n,a,s){const r=(0,t.resolveComponent)("dokki-hr");return(0,t.openBlock)(),(0,t.createBlock)(t.Fragment,null,[(0,t.createVNode)("span",{class:"dokkiCSS-anchor dokkiCSS-anchor-topic",id:e.anchor_id},null,8,["id"]),(0,t.createVNode)("section",Te,[(0,t.createVNode)("h1",Ee,(0,t.toDisplayString)(this.title),1),(0,t.createVNode)(r),(0,t.renderSlot)(e.$slots,"default")])],64)}},qe={class:"dokki-product-name"},Fe={computed:{productName(){return this.$store.state.productName}},render:function(e,o,i,n,a,s){return(0,t.openBlock)(),(0,t.createBlock)(t.Fragment,null,[(0,t.createVNode)("span",qe,(0,t.toDisplayString)(s.productName),1),(0,t.renderSlot)(e.$slots,"default")],64)}};function Ae(t={}){t={container:document.body,template:document.querySelector("#dokki-document"),...t},console.assert(t.container instanceof HTMLElement,"Invalid document container"),t.template instanceof HTMLTemplateElement?(t.container.appendChild(t.template.content),t.template.remove()):console.assert(null===t.template,"Invalid document template"),document.documentElement.hasAttribute("lang")||document.documentElement.setAttribute("lang","en");{const t=new URLSearchParams(window.location.search);{const o=["horizontal","vertical","vertical-narrow"],i=o[0],n=e=>o.find((t=>t==e));if(t.has("layout")){const o=n(t.get("layout"))||i;e.commit("set_layout_mode",o)}else window.addEventListener("resize",function t(){const o=document.documentElement.clientWidth,a=n(o<500?"vertical-narrow":o<860?"vertical":"horizontal");return e.commit("set_layout_mode",a||i),t}())}}const o=Vue.createApp({}).use(e).component("dokki-area",a).component("dokki-code",s).component("dokki-console",m).component("dokki-directory",v).component("dokki-header",_).component("dokki-iframe",C).component("dokki-image",w).component("dokki-item",$).component("dokki-lorem",B).component("dokki-output",V).component("dokki-side-panel",z).component("dokki-spoiler",M).component("dokki-subtopic",P).component("dokki-table",U).component("dokki-tag",O).component("dokki-tag-cloud",G).component("dokki-tag-filter",X).component("dokki-theme-selector",ee).component("dokki-tip",ie).component("dokki-topic",ne).component("dokki-topics",ae).component("dokki-video",se).component("dokki-warning",ue).component("dokki-hr",de).component("dokki0-animated-expander",he).component("dokki0-embedded-expandable",ve).component("dokki0-expansion-indicator",xe).component("dokki0-hash-router",_e).component("dokki0-page-load-progress-bar",be).component("dokki0-text-block-with-line-numbers",Ve).component("dokki0-topic",Ie).component("product-name",Fe);if(Array.isArray(parent.window.dokkiUserComponents))for(const e of parent.window.dokkiUserComponents){if("object"!=typeof e||!e.hasOwnProperty("$tag"))continue;const t=e.$tag;delete e.$tag,o.component(t,e)}o.mount(t.container)}i(292)})(),n})()}));